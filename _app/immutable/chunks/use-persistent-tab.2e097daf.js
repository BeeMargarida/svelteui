import{S as it,i as pt,s as ct,y as ut,z as ft,A as mt,g as dt,d as bt,B as ht,k as i,q as b,a as v,l as p,m as c,r as h,h as e,c as k,b as f,W as n,a0 as kt,F as $t,u as yt,K as Et,L as wt,n as Ct,X as Dt}from"./index.b4f0bbdc.js";import{D as Tt}from"./Demo.9cccb4ab.js";import{S as gt}from"./Stack.545b11b0.js";function Ht(_,s){function l(o){o.preventDefault(),o.returnValue=""}function a(o){(o?window.addEventListener:window.removeEventListener)("beforeunload",l)}return a(s),{update:a,destroy(){a(!1)}}}function St(_){let s,l=_[0]?"Can't close tab":"Can close tab",a,o,m,$,E,C,D;return{c(){s=i("button"),a=b(l),o=v(),m=i("div"),$=b("Something important that the user wouldn't want to lose to a page refresh or close")},l(r){s=p(r,"BUTTON",{});var d=c(s);a=h(d,l),d.forEach(e),o=k(r),m=p(r,"DIV",{});var y=c(m);$=h(y,"Something important that the user wouldn't want to lose to a page refresh or close"),y.forEach(e)},m(r,d){f(r,s,d),n(s,a),f(r,o,d),f(r,m,d),n(m,$),C||(D=[kt(s,"click",_[1]),$t(E=Ht.call(null,m,_[0]))],C=!0)},p(r,d){d&1&&l!==(l=r[0]?"Can't close tab":"Can close tab")&&yt(a,l),E&&Et(E.update)&&d&1&&E.update.call(null,r[0])},d(r){r&&e(s),r&&e(o),r&&e(m),C=!1,wt(D)}}}function Pt(_){let s,l;return s=new gt({props:{align:"center",$$slots:{default:[St]},$$scope:{ctx:_}}}),{c(){ut(s.$$.fragment)},l(a){ft(s.$$.fragment,a)},m(a,o){mt(s,a,o),l=!0},p(a,[o]){const m={};o&5&&(m.$$scope={dirty:o,ctx:a}),s.$set(m)},i(a){l||(dt(s.$$.fragment,a),l=!0)},o(a){bt(s.$$.fragment,a),l=!1},d(a){ht(s,a)}}}const Nt=`
<script>
    import { persistenttab } from '@svelteuidev/composables';

    let isNotClosable = false;
<\/script>

<button on:click={() => isNotClosable = !isNotClosable}>
    {isNotClosable ? "Can't close tab" : 'Can close tab'}
</button>

<div use:persistenttab={isNotClosable}>
    Something important that the user wouldn't want to lose to a page refresh or close
</div>`,xt="demo",At={code:Nt};function Lt(_,s,l){let a=!1;return[a,()=>l(0,a=!a)]}class Ot extends it{constructor(s){super(),pt(this,s,Lt,Pt,ct,{})}}const Rt=Object.freeze(Object.defineProperty({__proto__:null,configuration:At,default:Ot,type:xt},Symbol.toStringTag,{value:"Module"}));function Ut(_){let s,l,a,o,m,$,E,C,D,r,d,y,V,R,w,P,T,N,F,G,x,I,K,A,g,L,X,Y,O,J,U,S,Q,j,H,_t=`<code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">persistenttab</span><span class="token punctuation">(</span>
	<span class="token parameter"><span class="token literal-property property">node</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">,</span>
	<span class="token literal-property property">attributes</span><span class="token operator">:</span> Record<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> number <span class="token operator">|</span> string<span class="token operator">></span></span>
<span class="token punctuation">)</span><span class="token operator">:</span> ReturnType<span class="token operator">&lt;</span>Action<span class="token operator">></span><span class="token punctuation">;</span></code>`,B;return r=new Tt({props:{demo:Rt}}),{c(){s=i("h2"),l=b("Usage"),a=v(),o=i("p"),m=b("With the "),$=i("code"),E=b("use-persistent-tab"),C=b(" action, you can prevent current tab from being closed by user. A common use case for this is when a user is filling out a form, and you don’t want them to lose their data/progress."),D=v(),ut(r.$$.fragment),d=v(),y=i("h2"),V=b("Params"),R=v(),w=i("table"),P=i("thead"),T=i("tr"),N=i("th"),F=b("Param"),G=v(),x=i("th"),I=b("Description"),K=v(),A=i("tbody"),g=i("tr"),L=i("td"),X=b("enabled"),Y=v(),O=i("td"),J=b("Determines whether the action should execute or not."),U=v(),S=i("h2"),Q=b("Definition"),j=v(),H=i("pre"),this.h()},l(t){s=p(t,"H2",{});var u=c(s);l=h(u,"Usage"),u.forEach(e),a=k(t),o=p(t,"P",{});var M=c(o);m=h(M,"With the "),$=p(M,"CODE",{});var Z=c($);E=h(Z,"use-persistent-tab"),Z.forEach(e),C=h(M," action, you can prevent current tab from being closed by user. A common use case for this is when a user is filling out a form, and you don’t want them to lose their data/progress."),M.forEach(e),D=k(t),ft(r.$$.fragment,t),d=k(t),y=p(t,"H2",{});var tt=c(y);V=h(tt,"Params"),tt.forEach(e),R=k(t),w=p(t,"TABLE",{});var W=c(w);P=p(W,"THEAD",{});var et=c(P);T=p(et,"TR",{});var q=c(T);N=p(q,"TH",{});var st=c(N);F=h(st,"Param"),st.forEach(e),G=k(q),x=p(q,"TH",{});var at=c(x);I=h(at,"Description"),at.forEach(e),q.forEach(e),et.forEach(e),K=k(W),A=p(W,"TBODY",{});var ot=c(A);g=p(ot,"TR",{});var z=c(g);L=p(z,"TD",{});var nt=c(L);X=h(nt,"enabled"),nt.forEach(e),Y=k(z),O=p(z,"TD",{});var rt=c(O);J=h(rt,"Determines whether the action should execute or not."),rt.forEach(e),z.forEach(e),ot.forEach(e),W.forEach(e),U=k(t),S=p(t,"H2",{});var lt=c(S);Q=h(lt,"Definition"),lt.forEach(e),j=k(t),H=p(t,"PRE",{class:!0});var vt=c(H);vt.forEach(e),this.h()},h(){Ct(H,"class","language-js")},m(t,u){f(t,s,u),n(s,l),f(t,a,u),f(t,o,u),n(o,m),n(o,$),n($,E),n(o,C),f(t,D,u),mt(r,t,u),f(t,d,u),f(t,y,u),n(y,V),f(t,R,u),f(t,w,u),n(w,P),n(P,T),n(T,N),n(N,F),n(T,G),n(T,x),n(x,I),n(w,K),n(w,A),n(A,g),n(g,L),n(L,X),n(g,Y),n(g,O),n(O,J),f(t,U,u),f(t,S,u),n(S,Q),f(t,j,u),f(t,H,u),H.innerHTML=_t,B=!0},p:Dt,i(t){B||(dt(r.$$.fragment,t),B=!0)},o(t){bt(r.$$.fragment,t),B=!1},d(t){t&&e(s),t&&e(a),t&&e(o),t&&e(D),ht(r,t),t&&e(d),t&&e(y),t&&e(R),t&&e(w),t&&e(U),t&&e(S),t&&e(j),t&&e(H)}}}const Wt={title:"use-persistent-tab",group:"svelteuidev-composables",packageGroup:"@svelteuidev/composables",slug:"/composables/use-persistent-tab/",description:"Prevent current tab from being closed by the user.",importCode:"import { persistenttab } from '@svelteuidev/composables';",docs:"composables/use-persistent-tab.md",source:"svelteui-composables/src/actions/use-persistent-tab/use-persistent-tab.ts"};class qt extends it{constructor(s){super(),pt(this,s,null,Ut,ct,{})}}export{qt as default,Wt as metadata};
