import{t as et,S as Ge,i as Xe,s as Ye,y as je,z as De,A as Be,g as ge,d as Ce,B as He,o as tt,q as u,r as d,b as f,h as t,k as r,a as h,l as p,m as c,c as b,n as Je,W as o,X as at}from"./index.b4f0bbdc.js";import{D as ot}from"./Demo.9cccb4ab.js";import{C as nt}from"./Center.c93e1a75.js";import{B as st}from"./Button.b50e74fc.js";function Ne(k,n){const s=async()=>{const{blob:a,filename:l}=n;try{const m=document.createElement("a"),w=URL.createObjectURL(a);m.href=w,m.download=l||"",document.body.appendChild(m),m.click(),await et(),document.body.removeChild(m),URL.revokeObjectURL(w),k.dispatchEvent(new CustomEvent("usedownload",{detail:{blob:a,filename:l}}))}catch{k.dispatchEvent(new CustomEvent("usedownload-error",{detail:{blob:a,filename:l}}))}};return k.addEventListener("click",s,!0),{update:a=>n=a,destroy:()=>k.removeEventListener("click",s,!0)}}function lt(k){let n;return{c(){n=u("Download File")},l(s){n=d(s,"Download File")},m(s,a){f(s,n,a)},d(s){s&&t(n)}}}function rt(k){let n,s;return n=new st({props:{variant:"outline",use:[[Ne,{blob:k[0],filename:"hello.txt"}]],$$slots:{default:[lt]},$$scope:{ctx:k}}}),n.$on("usedownload",k[1]),{c(){je(n.$$.fragment)},l(a){De(n.$$.fragment,a)},m(a,l){Be(n,a,l),s=!0},p(a,l){const m={};l&1&&(m.use=[[Ne,{blob:a[0],filename:"hello.txt"}]]),l&4&&(m.$$scope={dirty:l,ctx:a}),n.$set(m)},i(a){s||(ge(n.$$.fragment,a),s=!0)},o(a){Ce(n.$$.fragment,a),s=!1},d(a){He(n,a)}}}function pt(k){let n,s;return n=new nt({props:{$$slots:{default:[rt]},$$scope:{ctx:k}}}),{c(){je(n.$$.fragment)},l(a){De(n.$$.fragment,a)},m(a,l){Be(n,a,l),s=!0},p(a,[l]){const m={};l&5&&(m.$$scope={dirty:l,ctx:a}),n.$set(m)},i(a){s||(ge(n.$$.fragment,a),s=!0)},o(a){Ce(n.$$.fragment,a),s=!1},d(a){He(n,a)}}}const ct=`
<script>
    import { onMount } from 'svelte';
    import { Button } from '@svelteuidev/core';
    import { download } from '@svelteuidev/composables';

    let file;
    onMount(() => {
        file = new Blob([JSON.stringify({ hello: 'world' })], { type: 'application/json' })
    });
<\/script>

<Button 
    variant='outline'
    use={[[download, { blob: file, filename: "test.txt" }]]}
    on:usedownload={() => console.log('File Downloaded')}
>
    Download File
</Button>`,it="demo",ut={code:ct};function dt(k,n,s){let a;return tt(()=>{s(0,a=new Blob([JSON.stringify({hello:"world"})],{type:"application/json"}))}),[a,()=>console.log("File Downloaded")]}class ft extends Ge{constructor(n){super(),Xe(this,n,dt,pt,Ye,{})}}const mt=Object.freeze(Object.defineProperty({__proto__:null,configuration:ut,default:ft,type:it},Symbol.toStringTag,{value:"Module"}));function kt(k){let n,s,a,l,m,w,oe,ne,q,E,z,C,se,I,_,O,$,R,le,re,P,pe,ce,y,T,x,ie,ue,M,de,fe,j,U,me,ke,S,he,J,H,be,N,v,ve,F,we,_e,A,Ee,$e,W,ye,G,D,Ke=`<code class="language-js"><span class="token literal-property property">on</span><span class="token operator">:</span>usedownload<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> unknown<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token literal-property property">on</span><span class="token operator">:</span>usedownload<span class="token operator">-</span>error<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> unknown<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span></code>`,X,L,Te,Y,B,Qe=`<code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">download</span><span class="token punctuation">(</span>
	<span class="token parameter"><span class="token literal-property property">node</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">,</span>
	<span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">blob</span><span class="token operator">:</span> Blob<span class="token punctuation">;</span> filename<span class="token operator">:</span> string <span class="token punctuation">&#125;</span></span>
<span class="token punctuation">)</span><span class="token operator">:</span> ReturnType<span class="token operator">&lt;</span>Action<span class="token operator">></span><span class="token punctuation">;</span></code>`,K;return E=new ot({props:{demo:mt}}),{c(){n=r("h2"),s=u("Usage"),a=h(),l=r("p"),m=u("With the "),w=r("code"),oe=u("use-download"),ne=u(" action, a download will occur with a given Blob object as a file with the given filename. It takes an argument of options, which is an object that has two properties. The blob option is a file-like object of immutable, raw data. The filename option is the filename that will be given to the Blob."),q=h(),je(E.$$.fragment),z=h(),C=r("h2"),se=u("Params"),I=h(),_=r("table"),O=r("thead"),$=r("tr"),R=r("th"),le=u("Param"),re=h(),P=r("th"),pe=u("Description"),ce=h(),y=r("tbody"),T=r("tr"),x=r("td"),ie=u("blob"),ue=h(),M=r("td"),de=u("The Blob object representing immutable, raw data"),fe=h(),j=r("tr"),U=r("td"),me=u("filename"),ke=h(),S=r("td"),he=u("The name of the file to be downloaded"),J=h(),H=r("h2"),be=u("Events"),N=h(),v=r("p"),ve=u("The "),F=r("code"),we=u("use-download"),_e=u(" action dispatches custom events. Each custom event takes a callback function just like other events "),A=r("em"),Ee=u("e.g."),$e=h(),W=r("code"),ye=u("on:click="),G=h(),D=r("pre"),X=h(),L=r("h2"),Te=u("Definition"),Y=h(),B=r("pre"),this.h()},l(e){n=p(e,"H2",{});var i=c(n);s=d(i,"Usage"),i.forEach(t),a=b(e),l=p(e,"P",{});var Q=c(l);m=d(Q,"With the "),w=p(Q,"CODE",{});var Le=c(w);oe=d(Le,"use-download"),Le.forEach(t),ne=d(Q," action, a download will occur with a given Blob object as a file with the given filename. It takes an argument of options, which is an object that has two properties. The blob option is a file-like object of immutable, raw data. The filename option is the filename that will be given to the Blob."),Q.forEach(t),q=b(e),De(E.$$.fragment,e),z=b(e),C=p(e,"H2",{});var Oe=c(C);se=d(Oe,"Params"),Oe.forEach(t),I=b(e),_=p(e,"TABLE",{});var V=c(_);O=p(V,"THEAD",{});var Re=c(O);$=p(Re,"TR",{});var Z=c($);R=p(Z,"TH",{});var Pe=c(R);le=d(Pe,"Param"),Pe.forEach(t),re=b(Z),P=p(Z,"TH",{});var xe=c(P);pe=d(xe,"Description"),xe.forEach(t),Z.forEach(t),Re.forEach(t),ce=b(V),y=p(V,"TBODY",{});var ee=c(y);T=p(ee,"TR",{});var te=c(T);x=p(te,"TD",{});var Me=c(x);ie=d(Me,"blob"),Me.forEach(t),ue=b(te),M=p(te,"TD",{});var Ue=c(M);de=d(Ue,"The Blob object representing immutable, raw data"),Ue.forEach(t),te.forEach(t),fe=b(ee),j=p(ee,"TR",{});var ae=c(j);U=p(ae,"TD",{});var Se=c(U);me=d(Se,"filename"),Se.forEach(t),ke=b(ae),S=p(ae,"TD",{});var Fe=c(S);he=d(Fe,"The name of the file to be downloaded"),Fe.forEach(t),ae.forEach(t),ee.forEach(t),V.forEach(t),J=b(e),H=p(e,"H2",{});var Ae=c(H);be=d(Ae,"Events"),Ae.forEach(t),N=b(e),v=p(e,"P",{});var g=c(v);ve=d(g,"The "),F=p(g,"CODE",{});var We=c(F);we=d(We,"use-download"),We.forEach(t),_e=d(g," action dispatches custom events. Each custom event takes a callback function just like other events "),A=p(g,"EM",{});var qe=c(A);Ee=d(qe,"e.g."),qe.forEach(t),$e=b(g),W=p(g,"CODE",{});var ze=c(W);ye=d(ze,"on:click="),ze.forEach(t),g.forEach(t),G=b(e),D=p(e,"PRE",{class:!0});var Ve=c(D);Ve.forEach(t),X=b(e),L=p(e,"H2",{});var Ie=c(L);Te=d(Ie,"Definition"),Ie.forEach(t),Y=b(e),B=p(e,"PRE",{class:!0});var Ze=c(B);Ze.forEach(t),this.h()},h(){Je(D,"class","language-js"),Je(B,"class","language-js")},m(e,i){f(e,n,i),o(n,s),f(e,a,i),f(e,l,i),o(l,m),o(l,w),o(w,oe),o(l,ne),f(e,q,i),Be(E,e,i),f(e,z,i),f(e,C,i),o(C,se),f(e,I,i),f(e,_,i),o(_,O),o(O,$),o($,R),o(R,le),o($,re),o($,P),o(P,pe),o(_,ce),o(_,y),o(y,T),o(T,x),o(x,ie),o(T,ue),o(T,M),o(M,de),o(y,fe),o(y,j),o(j,U),o(U,me),o(j,ke),o(j,S),o(S,he),f(e,J,i),f(e,H,i),o(H,be),f(e,N,i),f(e,v,i),o(v,ve),o(v,F),o(F,we),o(v,_e),o(v,A),o(A,Ee),o(v,$e),o(v,W),o(W,ye),f(e,G,i),f(e,D,i),D.innerHTML=Ke,f(e,X,i),f(e,L,i),o(L,Te),f(e,Y,i),f(e,B,i),B.innerHTML=Qe,K=!0},p:at,i(e){K||(ge(E.$$.fragment,e),K=!0)},o(e){Ce(E.$$.fragment,e),K=!1},d(e){e&&t(n),e&&t(a),e&&t(l),e&&t(q),He(E,e),e&&t(z),e&&t(C),e&&t(I),e&&t(_),e&&t(J),e&&t(H),e&&t(N),e&&t(v),e&&t(G),e&&t(D),e&&t(X),e&&t(L),e&&t(Y),e&&t(B)}}}const _t={title:"use-download",group:"svelteuidev-composables",packageGroup:"@svelteuidev/composables",slug:"/composables/use-download/",description:"Causes a download to occur with a given Blob object",importCode:"import { download } from '@svelteuidev/composables';",docs:"composables/use-download.md",source:"svelteui-composables/src/actions/use-download/use-download.ts"};class Et extends Ge{constructor(n){super(),Xe(this,n,null,kt,Ye,{})}}export{Et as default,_t as metadata};
