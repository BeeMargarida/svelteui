import{S as J,i as K,s as N,k as g,a as D,q as b,l as x,m as L,h as t,c as $,r as w,p as c,b as i,W as d,F as ns,a0 as R,u as W,X as Y,L as es,y as ts,z as as,n as z,A as os,g as ps,d as rs,B as ls}from"./index.b4f0bbdc.js";import{D as cs}from"./Demo.9cccb4ab.js";function G({value:p,min:n,max:a}){return Math.min(Math.max(p,n),a)}function is(p){let n=!1,a=0;function m(){document.addEventListener("mousemove",v),document.addEventListener("mouseup",k),document.addEventListener("touchmove",f),document.addEventListener("touchend",C)}function o(){document.removeEventListener("touchend",C),document.removeEventListener("touchmove",f),document.removeEventListener("mouseup",k),document.removeEventListener("mousemove",v)}function y(){n||(n=!0,p.dispatchEvent(new CustomEvent("move:start")),m())}function u(e,r){cancelAnimationFrame(a),a=requestAnimationFrame(()=>{const{left:_,top:P,width:M,height:S}=p.getBoundingClientRect();!M||!S||p.dispatchEvent(new CustomEvent("move",{detail:{x:G({value:(e-_)/M,min:0,max:1}),y:G({value:(r-P)/S,min:0,max:1})}}))})}function h(){n&&(n=!1,o(),p.dispatchEvent(new CustomEvent("move:stop")))}function E(e){y(),v(e)}function v(e){u(e.clientX,e.clientY)}function k(){h()}function T(e){y(),f(e)}function f(e){u(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}function C(){h()}return p.addEventListener("mousedown",E),p.addEventListener("touchstart",T),{destroy(){o(),p.removeEventListener("touchstart",T),p.removeEventListener("mousedown",E)}}}function us(p){let n,a,m,o,y,u=p[1].x*100+"",h,E,v=p[1].y*100+"",k,T,f,C;return{c(){n=g("div"),a=g("div"),m=D(),o=g("div"),y=b("X: "),h=b(u),E=b("% Y: "),k=b(v),T=b("%"),this.h()},l(e){n=x(e,"DIV",{style:!0});var r=L(n);a=x(r,"DIV",{style:!0}),L(a).forEach(t),r.forEach(t),m=$(e),o=x(e,"DIV",{style:!0});var _=L(o);y=w(_,"X: "),h=w(_,u),E=w(_,"% Y: "),k=w(_,v),T=w(_,"%"),_.forEach(t),this.h()},h(){c(a,"position","absolute"),c(a,"cursor","pointer"),c(a,"background-color",p[0]?"green":"red"),c(a,"width","20px"),c(a,"height","20px"),c(a,"left","calc("+p[1].x*100+"% - 10px)"),c(a,"top","calc("+p[1].y*100+"% - 10px)"),c(n,"position","relative"),c(n,"width","90%"),c(n,"height","200px"),c(n,"background-color","lightgrey"),c(n,"margin","20px"),c(o,"text-align","center"),c(o,"margin-top","10px")},m(e,r){i(e,n,r),d(n,a),i(e,m,r),i(e,o,r),d(o,y),d(o,h),d(o,E),d(o,k),d(o,T),f||(C=[ns(is.call(null,n)),R(n,"move:start",p[2]),R(n,"move",p[3]),R(n,"move:stop",p[4])],f=!0)},p(e,[r]){r&1&&c(a,"background-color",e[0]?"green":"red"),r&2&&c(a,"left","calc("+e[1].x*100+"% - 10px)"),r&2&&c(a,"top","calc("+e[1].y*100+"% - 10px)"),r&2&&u!==(u=e[1].x*100+"")&&W(h,u),r&2&&v!==(v=e[1].y*100+"")&&W(k,v)},i:Y,o:Y,d(e){e&&t(n),e&&t(m),e&&t(o),f=!1,es(C)}}}const ms=`
<script>
    import { Button, Paper } from '@svelteuidev/core';
    import { clickoutside } from '@svelteuidev/composables';

    let open = true;
<\/script>

<div use:clickoutside={{ enabled: open, callback: () => open = false }}>
    <Button on:click={() => open = true}>Open Modal</Button>
    {#if open}
        <Paper shadow='sm'>
            This is a modal, click anywhere to close
        </Paper>
    {/if}
</div>`,ks="demo",vs={code:ms};function fs(p,n,a){let m=!1,o={x:0,y:0};function y(){a(0,m=!0)}function u(E){a(1,o=E.detail)}function h(){a(0,m=!1)}return[m,o,y,u,h]}class ds extends J{constructor(n){super(),K(this,n,fs,us,N,{})}}const hs=Object.freeze(Object.defineProperty({__proto__:null,configuration:vs,default:ds,type:ks},Symbol.toStringTag,{value:"Module"}));function ys(p){let n,a,m,o,y,u,h,E,v,k,T,f,C,e,r,_,P,M,S=`<code class="language-js"><span class="token literal-property property">on</span><span class="token operator">:</span>move<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">event</span><span class="token operator">:</span> CustomEvent<span class="token operator">&lt;</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">;</span> y<span class="token operator">:</span> number <span class="token punctuation">&#125;</span><span class="token operator">></span> <span class="token operator">&amp;</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">target</span><span class="token operator">:</span> EventTarget <span class="token operator">&amp;</span> <span class="token constant">T</span> <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> unknown<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token literal-property property">on</span><span class="token operator">:</span>move<span class="token operator">:</span>start<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">event</span><span class="token operator">:</span> CustomEvent<span class="token operator">&lt;</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">;</span> y<span class="token operator">:</span> number <span class="token punctuation">&#125;</span><span class="token operator">></span> <span class="token operator">&amp;</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">target</span><span class="token operator">:</span> EventTarget <span class="token operator">&amp;</span> <span class="token constant">T</span> <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> unknown<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token literal-property property">on</span><span class="token operator">:</span>move<span class="token operator">:</span>stop<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">event</span><span class="token operator">:</span> CustomEvent<span class="token operator">&lt;</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">;</span> y<span class="token operator">:</span> number <span class="token punctuation">&#125;</span><span class="token operator">></span> <span class="token operator">&amp;</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">target</span><span class="token operator">:</span> EventTarget <span class="token operator">&amp;</span> <span class="token constant">T</span> <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> unknown<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span></code>`,B,H,O,U,j,Q=`<code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">move</span><span class="token punctuation">(</span>
	<span class="token parameter"><span class="token literal-property property">node</span><span class="token operator">:</span> HTMLElement</span>
<span class="token punctuation">)</span><span class="token operator">:</span> ReturnType<span class="token operator">&lt;</span>Action<span class="token operator">></span><span class="token punctuation">;</span></code>`,X;return k=new cs({props:{demo:hs}}),{c(){n=g("h2"),a=b("Usage"),m=D(),o=g("p"),y=b("With the "),u=g("code"),h=b("use-move"),E=b(" action, it is possible to move an element in the screen with mouse or touch events."),v=D(),ts(k.$$.fragment),T=D(),f=g("h2"),C=b("Events"),e=D(),r=g("p"),_=b("The use-move action dispatches three custom event. The custom event takes a callback function just like other events."),P=D(),M=g("pre"),B=D(),H=g("h2"),O=b("Definition"),U=D(),j=g("pre"),this.h()},l(s){n=x(s,"H2",{});var l=L(n);a=w(l,"Usage"),l.forEach(t),m=$(s),o=x(s,"P",{});var A=L(o);y=w(A,"With the "),u=x(A,"CODE",{});var q=L(u);h=w(q,"use-move"),q.forEach(t),E=w(A," action, it is possible to move an element in the screen with mouse or touch events."),A.forEach(t),v=$(s),as(k.$$.fragment,s),T=$(s),f=x(s,"H2",{});var F=L(f);C=w(F,"Events"),F.forEach(t),e=$(s),r=x(s,"P",{});var I=L(r);_=w(I,"The use-move action dispatches three custom event. The custom event takes a callback function just like other events."),I.forEach(t),P=$(s),M=x(s,"PRE",{class:!0});var Z=L(M);Z.forEach(t),B=$(s),H=x(s,"H2",{});var V=L(H);O=w(V,"Definition"),V.forEach(t),U=$(s),j=x(s,"PRE",{class:!0});var ss=L(j);ss.forEach(t),this.h()},h(){z(M,"class","language-js"),z(j,"class","language-js")},m(s,l){i(s,n,l),d(n,a),i(s,m,l),i(s,o,l),d(o,y),d(o,u),d(u,h),d(o,E),i(s,v,l),os(k,s,l),i(s,T,l),i(s,f,l),d(f,C),i(s,e,l),i(s,r,l),d(r,_),i(s,P,l),i(s,M,l),M.innerHTML=S,i(s,B,l),i(s,H,l),d(H,O),i(s,U,l),i(s,j,l),j.innerHTML=Q,X=!0},p:Y,i(s){X||(ps(k.$$.fragment,s),X=!0)},o(s){rs(k.$$.fragment,s),X=!1},d(s){s&&t(n),s&&t(m),s&&t(o),s&&t(v),ls(k,s),s&&t(T),s&&t(f),s&&t(e),s&&t(r),s&&t(P),s&&t(M),s&&t(B),s&&t(H),s&&t(U),s&&t(j)}}}const bs={title:"use-move",group:"svelteuidev-composables",packageGroup:"@svelteuidev/composables",slug:"/composables/use-move/",description:"Handles the movement of an element based on mouse and touch events",importCode:"import { move } from '@svelteuidev/composables';",docs:"composables/use-move.md",source:"svelteui-composables/src/actions/use-move/use-move.ts"};class ws extends J{constructor(n){super(),K(this,n,null,ys,N,{})}}export{ws as default,bs as metadata};
