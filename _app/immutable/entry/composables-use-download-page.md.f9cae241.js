import{t as lt,S as Ze,i as et,s as tt,y as le,z as re,A as pe,g as ce,d as ie,B as ue,o as rt,q as f,r as m,b as i,h as t,a as k,k as r,al as pt,c as h,l as p,m as c,n as Ve,Y as o}from"../chunks/index.b0fe5a0f.js";import"../chunks/navigation.9bd98935.js";import{H as ct}from"../chunks/Heading.19c03976.js";import{D as it}from"../chunks/Demo.82a35c94.js";import{C as ut}from"../chunks/Center.b83aac32.js";import{B as dt}from"../chunks/Button.36168772.js";function Xe(b,n){const s=async()=>{const{blob:a,filename:u}=n;try{const d=document.createElement("a"),C=URL.createObjectURL(a);d.href=C,d.download=u||"",document.body.appendChild(d),d.click(),await lt(),document.body.removeChild(d),URL.revokeObjectURL(C),b.dispatchEvent(new CustomEvent("usedownload",{detail:{blob:a,filename:u}}))}catch{b.dispatchEvent(new CustomEvent("usedownload-error",{detail:{blob:a,filename:u}}))}};return b.addEventListener("click",s,!0),{update:a=>n=a,destroy:()=>b.removeEventListener("click",s,!0)}}function ft(b){let n;return{c(){n=f("Download File")},l(s){n=m(s,"Download File")},m(s,a){i(s,n,a)},d(s){s&&t(n)}}}function mt(b){let n,s;return n=new dt({props:{variant:"outline",use:[[Xe,{blob:b[0],filename:"hello.txt"}]],$$slots:{default:[ft]},$$scope:{ctx:b}}}),n.$on("usedownload",b[1]),{c(){le(n.$$.fragment)},l(a){re(n.$$.fragment,a)},m(a,u){pe(n,a,u),s=!0},p(a,u){const d={};u&1&&(d.use=[[Xe,{blob:a[0],filename:"hello.txt"}]]),u&4&&(d.$$scope={dirty:u,ctx:a}),n.$set(d)},i(a){s||(ce(n.$$.fragment,a),s=!0)},o(a){ie(n.$$.fragment,a),s=!1},d(a){ue(n,a)}}}function kt(b){let n,s;return n=new ut({props:{$$slots:{default:[mt]},$$scope:{ctx:b}}}),{c(){le(n.$$.fragment)},l(a){re(n.$$.fragment,a)},m(a,u){pe(n,a,u),s=!0},p(a,[u]){const d={};u&5&&(d.$$scope={dirty:u,ctx:a}),n.$set(d)},i(a){s||(ce(n.$$.fragment,a),s=!0)},o(a){ie(n.$$.fragment,a),s=!1},d(a){ue(n,a)}}}const ht=`
<script>
    import { onMount } from 'svelte';
    import { Button } from '@svelteuidev/core';
    import { download } from '@svelteuidev/composables';

    let file;
    onMount(() => {
        file = new Blob([JSON.stringify({ hello: 'world' })], { type: 'application/json' })
    });
<\/script>

<Button 
    variant='outline'
    use={[[download, { blob: file, filename: "test.txt" }]]}
    on:usedownload={() => console.log('File Downloaded')}
>
    Download File
</Button>`,bt="demo",vt={code:ht};function wt(b,n,s){let a;return rt(()=>{s(0,a=new Blob([JSON.stringify({hello:"world"})],{type:"application/json"}))}),[a,()=>console.log("File Downloaded")]}class _t extends Ze{constructor(n){super(),et(this,n,wt,kt,tt,{})}}const $t=Object.freeze(Object.defineProperty({__proto__:null,configuration:vt,default:_t,type:bt},Symbol.toStringTag,{value:"Module"}));function Et(b){let n,s,a,u,d,C,J,w,de,P,fe,me,N,$,W,H,ke,Y,_,R,E,x,he,be,U,ve,we,y,T,M,_e,$e,S,Ee,ye,g,F,Te,ge,A,je,K,L,De,Q,v,Be,I,Ce,He,q,Le,Oe,z,Pe,V,j,at=`<code class="language-js"><span class="token literal-property property">on</span><span class="token operator">:</span>usedownload<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> unknown<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token literal-property property">on</span><span class="token operator">:</span>usedownload<span class="token operator">-</span>error<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">any</span><span class="token punctuation">)</span> <span class="token operator">=></span> unknown<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span></code>`,X,O,Re,Z,D,ot=`<code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">download</span><span class="token punctuation">(</span>
	<span class="token parameter"><span class="token literal-property property">node</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">,</span>
	<span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">blob</span><span class="token operator">:</span> Blob<span class="token punctuation">;</span> filename<span class="token operator">:</span> string <span class="token punctuation">&#125;</span></span>
<span class="token punctuation">)</span><span class="token operator">:</span> ReturnType<span class="token operator">&lt;</span>Action<span class="token operator">></span><span class="token punctuation">;</span></code>`,G;return document.title=n=xe+" - SvelteUI",a=new ct({props:{title:xe,group:Tt,packageGroup:gt,slug:jt,description:Dt,importCode:Bt,docs:Ct,source:Ht}}),$=new it({props:{demo:$t}}),{c(){s=k(),le(a.$$.fragment),u=k(),d=r("h2"),C=f("Usage"),J=k(),w=r("p"),de=f("With the "),P=r("code"),fe=f("use-download"),me=f(" action, a download will occur with a given Blob object as a file with the given filename. It takes an argument of options, which is an object that has two properties. The blob option is a file-like object of immutable, raw data. The filename option is the filename that will be given to the Blob."),N=k(),le($.$$.fragment),W=k(),H=r("h2"),ke=f("Params"),Y=k(),_=r("table"),R=r("thead"),E=r("tr"),x=r("th"),he=f("Param"),be=k(),U=r("th"),ve=f("Description"),we=k(),y=r("tbody"),T=r("tr"),M=r("td"),_e=f("blob"),$e=k(),S=r("td"),Ee=f("The Blob object representing immutable, raw data"),ye=k(),g=r("tr"),F=r("td"),Te=f("filename"),ge=k(),A=r("td"),je=f("The name of the file to be downloaded"),K=k(),L=r("h2"),De=f("Events"),Q=k(),v=r("p"),Be=f("The "),I=r("code"),Ce=f("use-download"),He=f(" action dispatches custom events. Each custom event takes a callback function just like other events "),q=r("em"),Le=f("e.g."),Oe=k(),z=r("code"),Pe=f("on:click="),V=k(),j=r("pre"),X=k(),O=r("h2"),Re=f("Definition"),Z=k(),D=r("pre"),this.h()},l(e){pt("svelte-pki6ul",document.head).forEach(t),s=h(e),re(a.$$.fragment,e),u=h(e),d=p(e,"H2",{});var Ue=c(d);C=m(Ue,"Usage"),Ue.forEach(t),J=h(e),w=p(e,"P",{});var ee=c(w);de=m(ee,"With the "),P=p(ee,"CODE",{});var Me=c(P);fe=m(Me,"use-download"),Me.forEach(t),me=m(ee," action, a download will occur with a given Blob object as a file with the given filename. It takes an argument of options, which is an object that has two properties. The blob option is a file-like object of immutable, raw data. The filename option is the filename that will be given to the Blob."),ee.forEach(t),N=h(e),re($.$$.fragment,e),W=h(e),H=p(e,"H2",{});var Se=c(H);ke=m(Se,"Params"),Se.forEach(t),Y=h(e),_=p(e,"TABLE",{});var te=c(_);R=p(te,"THEAD",{});var Fe=c(R);E=p(Fe,"TR",{});var ae=c(E);x=p(ae,"TH",{});var Ae=c(x);he=m(Ae,"Param"),Ae.forEach(t),be=h(ae),U=p(ae,"TH",{});var Ie=c(U);ve=m(Ie,"Description"),Ie.forEach(t),ae.forEach(t),Fe.forEach(t),we=h(te),y=p(te,"TBODY",{});var oe=c(y);T=p(oe,"TR",{});var ne=c(T);M=p(ne,"TD",{});var qe=c(M);_e=m(qe,"blob"),qe.forEach(t),$e=h(ne),S=p(ne,"TD",{});var ze=c(S);Ee=m(ze,"The Blob object representing immutable, raw data"),ze.forEach(t),ne.forEach(t),ye=h(oe),g=p(oe,"TR",{});var se=c(g);F=p(se,"TD",{});var Ge=c(F);Te=m(Ge,"filename"),Ge.forEach(t),ge=h(se),A=p(se,"TD",{});var Je=c(A);je=m(Je,"The name of the file to be downloaded"),Je.forEach(t),se.forEach(t),oe.forEach(t),te.forEach(t),K=h(e),L=p(e,"H2",{});var Ne=c(L);De=m(Ne,"Events"),Ne.forEach(t),Q=h(e),v=p(e,"P",{});var B=c(v);Be=m(B,"The "),I=p(B,"CODE",{});var We=c(I);Ce=m(We,"use-download"),We.forEach(t),He=m(B," action dispatches custom events. Each custom event takes a callback function just like other events "),q=p(B,"EM",{});var Ye=c(q);Le=m(Ye,"e.g."),Ye.forEach(t),Oe=h(B),z=p(B,"CODE",{});var Ke=c(z);Pe=m(Ke,"on:click="),Ke.forEach(t),B.forEach(t),V=h(e),j=p(e,"PRE",{class:!0});var nt=c(j);nt.forEach(t),X=h(e),O=p(e,"H2",{});var Qe=c(O);Re=m(Qe,"Definition"),Qe.forEach(t),Z=h(e),D=p(e,"PRE",{class:!0});var st=c(D);st.forEach(t),this.h()},h(){Ve(j,"class","language-js"),Ve(D,"class","language-js")},m(e,l){i(e,s,l),pe(a,e,l),i(e,u,l),i(e,d,l),o(d,C),i(e,J,l),i(e,w,l),o(w,de),o(w,P),o(P,fe),o(w,me),i(e,N,l),pe($,e,l),i(e,W,l),i(e,H,l),o(H,ke),i(e,Y,l),i(e,_,l),o(_,R),o(R,E),o(E,x),o(x,he),o(E,be),o(E,U),o(U,ve),o(_,we),o(_,y),o(y,T),o(T,M),o(M,_e),o(T,$e),o(T,S),o(S,Ee),o(y,ye),o(y,g),o(g,F),o(F,Te),o(g,ge),o(g,A),o(A,je),i(e,K,l),i(e,L,l),o(L,De),i(e,Q,l),i(e,v,l),o(v,Be),o(v,I),o(I,Ce),o(v,He),o(v,q),o(q,Le),o(v,Oe),o(v,z),o(z,Pe),i(e,V,l),i(e,j,l),j.innerHTML=at,i(e,X,l),i(e,O,l),o(O,Re),i(e,Z,l),i(e,D,l),D.innerHTML=ot,G=!0},p(e,[l]){(!G||l&0)&&n!==(n=xe+" - SvelteUI")&&(document.title=n)},i(e){G||(ce(a.$$.fragment,e),ce($.$$.fragment,e),G=!0)},o(e){ie(a.$$.fragment,e),ie($.$$.fragment,e),G=!1},d(e){e&&t(s),ue(a,e),e&&t(u),e&&t(d),e&&t(J),e&&t(w),e&&t(N),ue($,e),e&&t(W),e&&t(H),e&&t(Y),e&&t(_),e&&t(K),e&&t(L),e&&t(Q),e&&t(v),e&&t(V),e&&t(j),e&&t(X),e&&t(O),e&&t(Z),e&&t(D)}}}const yt={title:"use-download",group:"svelteuidev-composables",packageGroup:"@svelteuidev/composables",slug:"/composables/use-download/",description:"Causes a download to occur with a given Blob object",importCode:"import { download } from '@svelteuidev/composables';",docs:"composables/use-download.md",source:"svelteui-composables/src/actions/use-download/use-download.ts"},{title:xe,group:Tt,packageGroup:gt,slug:jt,description:Dt,importCode:Bt,docs:Ct,source:Ht}=yt;class Mt extends Ze{constructor(n){super(),et(this,n,null,Et,tt,{})}}export{Mt as default,yt as metadata};
